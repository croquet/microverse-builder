"use strict";(globalThis.webpackChunk_croquet_microverse=globalThis.webpackChunk_croquet_microverse||[]).push([[228],{9228:(t,e,i)=>{i.r(e),i.d(e,{default:()=>r});const r={modules:[{name:"Drive",actorBehaviors:[class DriveActor{setup(){void 0===this.speed&&(this.speed=.1),void 0===this.angle&&(this.angle=.02),void 0===this.running&&(this.running=!0,this.run()),this.addEventListener("keyDown","control"),this.addEventListener("pointerDown","nop")}run(){var t;this.running&&(this.future(20).run(),this.rotateBy([0,-this.angle,0]),this.forwardBy(-this.speed),this.avatar&&(t=this._translation,this.avatar._translation=[t[0],t[1]+1.6,t[2]],this.avatar._rotation=this._rotation,this.avatar.say("forceOnPosition")))}ride(){let t=this.queryCards();var e=t.find(t=>t.layers.includes("avatar"));this.avatar=e}rotateBy(t){t=Worldcore.q_euler(...t),t=Worldcore.q_multiply(this.rotation,t);this.rotateTo(t)}forwardBy(t){t=Worldcore.v3_rotate([0,0,t],this.rotation);this.translateTo([this.translation[0]+t[0],this.translation[1]+t[1],this.translation[2]+t[2]])}control(t){"ArrowRight"===t.key?this.angle=Math.min(.05,this.angle+.004):"ArrowLeft"===t.key?this.angle=Math.max(-.05,this.angle-.004):"ArrowUp"===t.key?this.speed=Math.min(1,this.speed+.025):"ArrowDown"===t.key&&(this.speed=Math.max(-.2,this.speed-.025))}destroy(){this.removeEventListener("pointerDown","toggle"),this.removeEventListener("keyDown","turn"),this.running=!1}}]}]}}}]);